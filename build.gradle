//-------------------------------------------------------------------------------------------------
// BeanValidator - build
//-------------------------------------------------------------------------------------------------

sourceCompatibility = JavaVersion.VERSION_1_7
targetCompatibility = JavaVersion.VERSION_1_7

version = gitExtendedVersion() // Sample: 0.5.4-19
buildDir = "target/${version}/"

jar {
    dependsOn "test"
    baseName = baseName.toLowerCase()
}

sourcesJar { baseName = baseName.toLowerCase() }
javadocJar { baseName = baseName.toLowerCase() }

configurations {
    toPublicRepo
}

//-------------------------------------------------------------------------------------------------
// Library Versions

dependencies {

    // Logging ---------------------------------------------------------------------------------------------------------
    compile 	group: 'org.slf4j',                     name: 'slf4j-api',              version: slf4jVersion

    // Apache ----------------------------------------------------------------------------------------------------------


    // Google ----------------------------------------------------------------------------------------------------------
    compile     group: 'com.google.inject', 		    name: 'guice', 					version: guiceVersion
    compile     group: 'com.google.inject.extensions',  name: 'guice-assistedinject',   version: guiceVersion

    // Rest + Servlet --------------------------------------------------------------------------------------------------

    // Eigene libs -----------------------------------------------------------------------------------------------------

    // Sonstiges -------------------------------------------------------------------------------------------------------

    // Test ------------------------------------------------------------------------------------------------------------

    testCompile group: 'junit',                         name: 'junit',                  version: junitVersion
    testCompile group: 'org.slf4j',                     name: 'slf4j-log4j12',          version: slf4jVersion
    testCompile group: 'log4j', 						name: 'log4j', 					version: log4JVersion
    testCompile group: 'org.mockito', 					name: 'mockito-all', 			version: mockitoVersion

}

artifacts {
	toPublicRepo jar
	toPublicRepo sourcesJar

    archives sourcesJar
    archives javadocJar
	}

// JAR + Source
uploadToPublicRepo {
	repositories {
		mavenDeployer {
			// My local Maven repository
			repository(url: uri("file:///Volumes/programming/Maven/public.maven.repository/"))
		}
	}
}